{% extends "/base/auth.html" %}

{% block head %}

{% endblock %}

{% block content %}
<div class="row d-flex justify-content-center text-center">
    {% for swap in swaps%}
        <div class="row border border-info p-2" style="width: fit-content;">
            <div class="col-md-6 col-sm-6">
                <div>{{swap.employee.profile.first_name}} {{swap.employee.profile.last_name}}</div>
                <hr>
                <div>{{swap.from_date}} {{swap.from_time}}</div>
                <hr>
                <div>{{swap.employee.profile.email}}</div>
                <div>{{swap.employee.profile.phone}}</div>
            </div>
            <div class="col-md-6 col-sm-6">
                <div>With employee (id) {{swap.accepter_id}}</div>
                <hr>
                <div>{{swap.to_date}} {{swap.to_time}}</div>
                <hr>
                <div>{{swap.status}}</div>
                <div class="row d-flex justify-content-center text-center">
                {% if current_user.is_authorized(['supervisor']): %}
                    <form action="" method="POST">
                        <button class="btn btn-success">Accept</button>
                        <input type="hidden" name="action" value="approve">
                        <input type="hidden" name="index" value="{{loop.index - 1}}">
                    </form>
                {% else %}
                    <form action="" method="POST">
                        <button class="btn btn-outline-success">Approve</button>
                        <input type="hidden" name="index" value="{{loop.index - 1}}">
                        <input type="hidden" name="action" value="accept">
                    </form>
                {% endif %}
                    <form action="" method="POST">
                        <button class="btn btn-outline-danger ml-2">Deny</button>
                        <input type="hidden" name="index" value="{{loop.index - 1}}">
                        <input type="hidden" name="action" value="deny">
                    </form>
                </div>
            </div>
        </div>
    {% endfor %}
</div>
<div class="row d-flex justify-content-center text-center">
    {% for swap in my_swaps %}
    <div class="row border border-info p-2" style="width: fit-content;">
        <div class="col-md-6 col-sm-6">
            <div>{{swap.employee.profile.first_name}} {{swap.employee.profile.last_name}}</div>
            <hr>
            <div>{{swap.from_date}} {{swap.from_time}}</div>
            <hr>
            <div>{{swap.employee.profile.email}}</div>
            <div>{{swap.employee.profile.phone}}</div>
        </div>
        <div class="col-md-6 col-sm-6">
            <div>With employee (id) {{swap.accepter_id}}</div>
            <hr>
            <div>{{swap.to_date}} {{swap.to_time}}</div>
            <hr>
            <div>{{swap.status}}</div>
        </div>
    </div>
    {% endfor %}
</div>
{% endblock %}

{% block script %}

{% endblock %}